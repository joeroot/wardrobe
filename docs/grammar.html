<!DOCTYPE html>  <html> <head>   <title>grammar.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="cli.html">                 cli.js               </a>                                           <a class="source" href="grammar.html">                 grammar.js               </a>                                           <a class="source" href="interpreter.html">                 interpreter.js               </a>                                           <a class="source" href="lexer.html">                 lexer.js               </a>                                           <a class="source" href="nodes.html">                 nodes.js               </a>                                           <a class="source" href="parser.html">                 parser.js               </a>                                           <a class="source" href="wardrobe.html">                 wardrobe.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               grammar.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">Parser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jison&#39;</span><span class="p">).</span><span class="nx">Parser</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">grammar</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;startSymbol&quot;</span><span class="o">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
  
  <span class="s2">&quot;operators&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;DOT&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;ASSIGN&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;MATH&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;COMP&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGIC&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;FOR&quot;</span><span class="p">,</span> <span class="s2">&quot;WHILE&quot;</span><span class="p">]</span>
  <span class="p">],</span>

  <span class="s2">&quot;bnf&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;root&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;EOF&quot;</span><span class="p">,</span> <span class="s2">&quot;return [];&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;program EOF&quot;</span><span class="p">,</span> <span class="s2">&quot;return $1;&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;t&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;NEWLINE&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;program&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;line&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = [$1];&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;program t line&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1; $1.push($3);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;program t&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;line&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;statement&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">]</span>
    <span class="p">],</span>
    
    <span class="s2">&quot;statement&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;RETURN primary&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Return($2);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;block&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;t program t&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Block($2);&quot;</span><span class="p">]</span> 
    <span class="p">],</span>

    <span class="s2">&quot;expression&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;if&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;while&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;for&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;assign&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;operation&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;call&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;primary&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;LPAREN expression RPAREN&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $2;&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;if&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;IF expression THEN block END&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.If($2, $4, null);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;IF expression THEN block ELSE block END&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.If($2, $4, $6);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;while&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;WHILE expression DO block END&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.While($2, $4);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;for&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;FOR ident IN expression DO block END&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.For($2, $4, $6);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;assign&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;identifier ASSIGN expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Assign($1, $3);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;expression + expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Operator($2, $1, $3);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;expression - expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Operator($2, $1, $3);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;expression COMP expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Operator($2, $1, $3);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;expression MATH expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Operator($2, $1, $3);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;expression LOGIC expression&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Operator($2, $1, $3);&quot;</span><span class="p">]</span> 
    <span class="p">],</span>

    <span class="s2">&quot;call&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;expression DOT identifier LPAREN arguments RPAREN&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Call($3, $1, $5);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;identifier LPAREN arguments RPAREN&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Call($1, null, $3);&quot;</span><span class="p">]</span> 
    <span class="p">],</span>

    <span class="s2">&quot;function&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;DEF identifier LPAREN arguments RPAREN block END&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Function($2, $4, $6);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;class&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;CLASS constant block END&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Class($2, $3);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;arguments&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = [];&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;primary&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = [$1];&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;arguments COMMA primary&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1; $1.push($3);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;primary&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;identifier&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;literal&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = $1;&quot;</span><span class="p">]</span>
    <span class="p">],</span>

   <span class="s2">&quot;identifier&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;IDENT&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Identifier($1, &#39;local&#39;);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;THIS DOT IDENT&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Identifier($3, &#39;this&#39;);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;literal&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;NUMBER&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Number($1);&quot;</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;STRING&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.String($1);&quot;</span><span class="p">]</span>
    <span class="p">],</span>

    <span class="s2">&quot;constant&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;CONST&quot;</span><span class="p">,</span> <span class="s2">&quot;$$ = new yy.Const($1);&quot;</span><span class="p">]</span>
    <span class="p">]</span>
  <span class="p">}</span>

<span class="p">};</span>

<span class="kd">var</span> <span class="nx">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Parser</span><span class="p">(</span><span class="nx">grammar</span><span class="p">,</span> <span class="p">{</span><span class="nx">debug</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>

<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">&#39;src/parser.js&#39;</span><span class="p">,</span> <span class="nx">parser</span><span class="p">.</span><span class="nx">generate</span><span class="p">());</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 